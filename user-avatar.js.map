{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"user-avatar.js","sourcesContent":["const React = require('react');\nconst initials = require('initials');\nconst addPx = require('add-px');\nconst contrast = require('contrast');\n\n// from https://flatuicolors.com/\nconst defaultColors = [\n  '#2ecc71', // emerald\n  '#3498db', // peter river\n  '#8e44ad', // wisteria\n  '#e67e22', // carrot\n  '#e74c3c', // alizarin\n  '#1abc9c', // turquoise\n  '#2c3e50', // midnight blue\n];\n\nfunction sumChars(str) {\n  let sum = 0;\n  for(let i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum;\n}\n\nconst UserAvatar = (props) => {\n  let {\n    borderRadius='100%',\n    src,\n    srcset,\n    name,\n    color,\n    colors=defaultColors,\n    size,\n    style,\n    onClick\n  } = props;\n\n  if (!name) throw new Error('UserAvatar requires a name');\n\n  const abbr = initials(name);\n  size = addPx(size);\n\n  const imageStyle = {\n    display: 'block',\n    borderRadius\n  };\n\n  const innerStyle = {\n    display: 'table-cell',\n    textAlign: 'center',\n    verticalAlign: 'middle',\n    borderRadius\n  };\n\n  if (size) {\n    imageStyle.width = innerStyle.width = innerStyle.maxWidth = size;\n    imageStyle.width = innerStyle.height = size;\n  }\n\n  let inner, classes = ['UserAvatar'];\n  if (src || srcset) {\n    inner = <img className=\"UserAvatar--img\" style={imageStyle} src={src} srcset={srcset} alt={name} />\n  } else {\n    let background;\n    if (color) {\n      background = color;\n    } else {\n      // pick a deterministic color from the list\n      let i = sumChars(name) % colors.length;\n      background = colors[i];\n    }\n\n    innerStyle.backgroundColor = background;\n\n    inner = abbr;\n  }\n\n  if (innerStyle.backgroundColor) {\n    classes.push(`UserAvatar--${contrast(innerStyle.backgroundColor)}`);\n  }\n\n  return (\n    <div aria-label={name} className={classes.join(' ')} style={style}>\n      <div className=\"UserAvatar--inner\" style={innerStyle}>\n        {inner}\n      </div>\n    </div>\n  )\n}\n\nmodule.exports = UserAvatar;\n\n"]}