{"version":3,"sources":["index.js"],"names":[],"mappings":"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","file":"user-avatar.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport initials from 'initials';\nimport contrast from 'contrast';\n\n// from https://flatuicolors.com/\nconst defaultColors = [\n    '#2ecc71', // emerald\n    '#3498db', // peter river\n    '#8e44ad', // wisteria\n    '#e67e22', // carrot\n    '#e74c3c', // alizarin\n    '#1abc9c', // turquoise\n    '#2c3e50', // midnight blue\n];\n\nfunction sumChars(str) {\n    let sum = 0;\n    for (let i = 0; i < str.length; i++) {\n        sum += str.charCodeAt(i);\n    }\n\n    return sum;\n}\n\nclass UserAvatar extends React.Component {\n    render() {\n        const abbr = initials(this.props.name);\n        // size = addPx(size);\n\n        const imageStyle = {\n            display: 'block',\n            borderRadius: this.props.borderRadius\n        };\n\n        const innerStyle = {\n            lineHeight: this.props.size + \"px\",\n            width: this.props.size + \"px\",\n            height: this.props.size + \"px\",\n            textAlign: 'center',\n            fontSize: Math.floor(this.props.size / this.props.textSizeRatio),\n            borderRadius: this.props.borderRadius\n        };\n\n        if (this.props.size) {\n            imageStyle.width = innerStyle.width = innerStyle.maxWidth = this.props.size + \"px\";\n            imageStyle.height = innerStyle.height = innerStyle.maxHeight = this.props.size + \"px\";\n        }\n\n        let inner, classes = [this.props.className, 'UserAvatar'];\n        if (this.props.src || this.props.srcset) {\n            inner = <img className=\"UserAvatar--img\" style={imageStyle} src={this.props.src} srcSet={this.props.srcset} alt={this.props.name} />\n        } else {\n            let background;\n            if (this.props.color) {\n                background = this.props.color;\n            } else {\n                // pick a deterministic color from the list\n                let i = sumChars(this.props.name) % this.props.colors.length;\n                background = this.props.colors[i];\n            }\n\n            innerStyle.backgroundColor = background;\n\n            inner = abbr;\n        }\n\n        if (innerStyle.backgroundColor) {\n            classes.push(`UserAvatar--${contrast(innerStyle.backgroundColor)}`);\n        }\n\n        return (\n            <div aria-label={name} className={classes.join(' ')} style={this.props.style}>\n                <div className=\"UserAvatar--inner\" style={innerStyle}>\n                    {inner}\n                </div>\n            </div>\n        )\n    }\n}\n\nUserAvatar.propTypes = {\n    borderRadius: PropTypes.string,\n    src: PropTypes.string,\n    srcset: PropTypes.string,\n    name: PropTypes.string.isRequired,\n    color: PropTypes.string,\n    colors: PropTypes.array,\n    size: PropTypes.number.isRequired,\n    style: PropTypes.object,\n    textSizeRatio: PropTypes.number,\n    className: PropTypes.string\n};\n\nUserAvatar.defaultProps = {\n    name: 'John Doe',\n    borderRadius: '100%',\n    colors: defaultColors,\n    textSizeRatio: 3\n};\n\n\nmodule.exports = UserAvatar;\n"]}